/**
 * Package: ColorRotator
 * URL:     http://products.askupasoftware.com/color-rotator/
 * Version: 1.0.0
 * Date:    2016-02-03
 * License: GNU GENERAL PUBLIC LICENSE
 *
 * Developed by Askupa Software http://www.askupasoftware.com
 */
!function(a){function b(b,c){this.setOptions(c),this.$selection=a(b),this.currentColor=0,this.init()}function c(a){0===a.indexOf("#")?this.parseHex(a):this.parseRGB(a)}b.defaults={colors:[],property:"",delay:500,random:!1,easing:"linear"},b.methods={start:function(){this.start()},stop:function(){this.stop()},update:function(a){var b=a[0];this.stop(),this.setOptions(b),this.currentColor=0,this.init()},colors:function(a){var b=a[0];b.call(null,this.settings.colors)}},b.methodExists=function(a){return"string"==typeof a&&b.methods[a]},b.prototype.setOptions=function(c){"undefined"!=typeof this.settings?this.settings=a.extend({},this.settings,c):("undefined"==typeof c.colors&&console.error("ColorRotator.js error: No colors were specified"),this.settings=a.extend({},b.defaults,c)),this.settings.properties=this.settings.property.split(" "),a.isPlainObject(this.settings.colors)&&(this.settings.colors=this.rangeToColorArray(this.settings.colors))},b.prototype.init=function(){this.$selection.css({transition:"all "+this.settings.delay+"ms "+this.settings.easing}),this.start()},b.prototype.start=function(){var a=this;this.stop(),this.rotateColor(),this.interval=setInterval(function(){a.rotateColor()},this.settings.delay)},b.prototype.stop=function(){clearInterval(this.interval)},b.prototype.rangeToColorArray=function(a){for(var b=[],d=new c(a.from),e=new c(a.to),f=a.count,g={r:(e.r-d.r)/f,g:(e.g-d.g)/f,b:(e.b-d.b)/f},h=0;h<a.count;h++){var i="rgb("+[d.r+h*g.r|0,d.g+h*g.g|0,d.b+h*g.b|0].join(",")+")";b.push(i)}return b},b.prototype.rotateColor=function(){var b=this;a.each(this.settings.properties,function(a,c){"background"===c&&b.rotateBackgroundColor(),"shadow"===c&&b.rotateShadowColor(),"text"===c&&b.rotateTextColor()})},b.prototype.rotateBackgroundColor=function(){this.$selection.css({"background-color":this.getNextColor()})},b.prototype.rotateShadowColor=function(){var a=this.$selection.css("box-shadow").replace(/rgba?\([^\)]*\)/g,this.getNextColor());this.$selection.css({"box-shadow":a})},b.prototype.rotateTextColor=function(){this.$selection.css({color:this.getNextColor()})},b.prototype.getNextColor=function(){var a,b=this.settings.colors.length;if(this.settings.random){for(var c=this.currentColor;c===this.currentColor;)c=Math.floor(Math.random()*b);a=this.settings.colors[c],this.currentColor=c}else a=this.settings.colors[this.currentColor++],this.currentColor===b&&(this.currentColor=0);return a},c.prototype.parseHex=function(a){var b=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;a=a.replace(b,function(a,b,c,d){return b+b+c+c+d+d});var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);this.r=parseInt(c[1],16),this.g=parseInt(c[2],16),this.b=parseInt(c[3],16)},c.prototype.parseRGB=function(a){var b=/^rgb\(\s*([\d]+)\s*,\s*([\d]+)\s*,\s*([\d]+)\s*\)$/i.exec(a);this.r=parseInt(b[1]),this.g=parseInt(b[2]),this.b=parseInt(b[3])},a.fn.colorRotator=function(c){var d=arguments.length>1?Array.apply(null,arguments).slice(1):null;return this.each(function(){if("object"!=typeof c&&c)b.methodExists(c)&&b.methods[c].call(a(this).data("colorRotator"),d);else if("undefined"==typeof a(this).data("colorRotator")){var e=new b(this,c);a(this).data("colorRotator",e)}else b.methods.update.call(a(this).data("colorRotator"),[c])})}}(jQuery);